<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>The Model API</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel2">
<li><a href="#_the_model_api">1. The Model API</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect2">
<h3 id="_the_model_api"><a class="anchor" href="#_the_model_api"></a>1. The Model API</h3>
<div class="paragraph">
<p>One of the core features and maybe the most important concept of
the remote presentation model is the model synchronization between
client and server. For each view in the client a controller instance
"lives" in the server that defines all the logic of the view.
A model is automatically shared and synchronized between the client
view and the controller on the server.</p>
</div>
<div class="paragraph">
<div class="title">Synchronization of the model</div>
<p><span class="image"><img src="../images/remoting-architecture-1.svg" alt="remoting architecture 1"></span></p>
</div>
<div class="paragraph">
<p>Such a model can be a bean or a hierarchy of several beans.
Rico provides an API to create full observable beans for the model
layer.</p>
</div>
<div class="sect3">
<h4 id="_defining_a_model"><a class="anchor" href="#_defining_a_model"></a>1.1. Defining a model</h4>
<div class="paragraph">
<p>A model can simply be defined as a Java bean, but instead of using
primitive date types for all the attributes of the bean
Rico provides the <code>dev.rico.remoting.Property&lt;T&gt;</code> interface that should be used to
define attributes. Based on this, a definition for a bean with only
one String attribute will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RemotingBean</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyModel</span> {

    <span class="directive">private</span> Property&lt;<span class="predefined-type">String</span>&gt; value;

    <span class="directive">public</span> Property&lt;<span class="predefined-type">String</span>&gt; valueProperty() {
        <span class="keyword">return</span> value;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getValue() {
        <span class="keyword">return</span> value.get();
    }

    <span class="directive">public</span> <span class="type">void</span> setValue(<span class="predefined-type">String</span> value) {
        value.set(value);
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Maybe you ask yourself why the @RemotingBean annotation is needed.
Internally Rico checks if a bean class is annotated with @RemotingBean and will
trow a BeanDefinitionException if the annotation is not present.
By doing so it will be easy to check if you use the right model classes.
We plan to add some additional features based on the annotation in the future.
One example can be an annotation processor that checks, if all classes that are
defined as remoting beans (by adding the @RemotingBean annotation) are
valid beans (use Property interface correctly and so on).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.1.0-SNAPSHOT<br>
Last updated 2020-07-10 15:00:36 UTC
</div>
</div>
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</body>
</html>